{% extends 'base.html' %}
{% load static %}

{% block title_name %}
–ú–æ–∏ –∫—É—Ä—Å—ã - UNIREAX
{% endblock %}

{% block content %}
<section class="teacher-courses-section">
    <div class="teacher-courses-container">
        <div class="teacher-courses-header">
            <div class="breadcrumb">
                <a href="{% url 'profile' %}">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                <span class="separator">/</span>
                <span>–ú–æ–∏ –∫—É—Ä—Å—ã</span>
            </div>
            
            <div class="title-section">
                <h1>–ú–æ–∏ –∫—É—Ä—Å—ã</h1>
                <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏–º–∏ —É—á–µ–±–Ω—ã–º–∏ –∫—É—Ä—Å–∞–º–∏</p>
            </div>
        </div>

        <div class="courses-actions">
            <a href="{% url 'create_course' %}" class="btn btn-primary">
                + –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫—É—Ä—Å
            </a>
        </div>

        <div class="courses-grid">
            {% for course_teacher in teacher_courses %}
            <div class="course-card">
                <div class="course-image">
                    {% if course_teacher.course.course_photo_path %}
                        <img src="{{ course_teacher.course.course_photo_path.url }}" alt="{{ course_teacher.course.course_name }}">
                    {% else %}
                    {% endif %}
                </div>
                
                <div class="course-info">
                    <h3>{{ course_teacher.course.course_name }}</h3>
                    <p class="course-description">
                        {{ course_teacher.course.course_description|truncatewords:20 }}
                    </p>
                    
                    <div class="course-meta">
                        <span class="meta-item">{{ course_teacher.course.usercourse_set.count }} —Å–ª—É—à–∞—Ç–µ–ª–µ–π</span>
                        <span class="meta-item">‚è± {{ course_teacher.course.course_hours }} —á–∞—Å–æ–≤</span>
                    </div>
                </div>
                
                <div class="course-actions">
                    <a href="{% url 'course_teach' course_teacher.course.id %}" class="btn btn-outline btn-sm">
                        –ü–µ—Ä–µ–π—Ç–∏ –∫ –∫—É—Ä—Å—É
                    </a>
                    <a href="{% url 'course_students_management' course_teacher.course.id %}" class="btn btn-primary btn-sm">
                        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª—è–º–∏
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="no-courses">
                <div class="no-courses-icon">üìö</div>
                <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∫—É—Ä—Å–æ–≤</h3>
                <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∫—É—Ä—Å —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–µ</p>
                <a href="{% url 'create_course' %}" class="btn btn-primary">
                    –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<style>
.teacher-courses-section {
    padding: 30px 0;
    min-height: 100vh;
}

.teacher-courses-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.teacher-courses-header {
    margin-bottom: 30px;
}

.breadcrumb {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
    font-family: "Arial Black", sans-serif;
    font-size: 0.9em;
}

.breadcrumb a {
    color: #BFC3F7;
    text-decoration: none;
    transition: color 0.3s ease;
}

.breadcrumb a:hover {
    color: #FFFFFF;
}

.separator {
    color: #7B7FD5;
}

.title-section {
    background: rgba(21, 29, 73, 0.9);
    border-radius: 15px;
    padding: 30px;
    border: 1px solid rgba(123, 127, 213, 0.3);
}

.title-section h1 {
    font-family: "Arial Black", sans-serif;
    font-size: 2.2em;
    color: #FFFFFF;
    margin: 0 0 8px 0;
}

.title-section p {
    color: #BFC3F7;
    margin: 0;
    font-size: 1.1em;
}

.courses-actions {
    margin-bottom: 30px;
}

.courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 25px;
}

.course-card {
    background: rgba(21, 29, 73, 0.9);
    border-radius: 15px;
    border: 1px solid rgba(123, 127, 213, 0.3);
    overflow: hidden;
    transition: all 0.3s ease;
}

.course-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.course-image {
    height: 160px;
    overflow: hidden;
}

.course-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.course-image-placeholder {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #A020F0, #7B7FD5);
    font-size: 3em;
}

.course-info {
    padding: 20px;
}

.course-info h3 {
    color: #FFFFFF;
    font-family: "Arial Black", sans-serif;
    margin: 0 0 10px 0;
    font-size: 1.3em;
}

.course-description {
    color: #BFC3F7;
    margin: 0 0 15px 0;
    line-height: 1.5;
}

.course-meta {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.meta-item {
    color: #BFC3F7;
    font-size: 0.85em;
    font-family: "Arial Black", sans-serif;
}

.course-actions {
    padding: 0 20px 20px 20px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    border-radius: 10px;
    font-family: "Arial Black", sans-serif;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-size: 0.95em;
}

.btn-sm {
    padding: 8px 16px;
    font-size: 0.85em;
}

.btn-outline {
    background: rgba(191, 195, 247, 0.1);
    color: #BFC3F7;
    border: 1px solid rgba(123, 127, 213, 0.4);
}

.btn-outline:hover {
    background: rgba(123, 127, 213, 0.2);
    color: #FFFFFF;
    transform: translateY(-2px);
}

.btn-primary {
    background: linear-gradient(135deg, #A020F0, #7B7FD5);
    color: white;
    border: 1px solid rgba(160, 32, 240, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(160, 32, 240, 0.4);
}

.no-courses {
    grid-column: 1 / -1;
    text-align: center;
    padding: 60px 20px;
    background: rgba(21, 29, 73, 0.9);
    border-radius: 15px;
    border: 1px solid rgba(123, 127, 213, 0.3);
}

.no-courses-icon {
    font-size: 4em;
    margin-bottom: 20px;
}

.no-courses h3 {
    color: #FFFFFF;
    font-family: "Arial Black", sans-serif;
    margin-bottom: 10px;
}

.no-courses p {
    color: #BFC3F7;
    margin-bottom: 25px;
}

@media (max-width: 768px) {
    .courses-grid {
        grid-template-columns: 1fr;
    }
    
    .course-actions {
        flex-direction: column;
    }
    
    .btn {
        width: 100%;
        justify-content: center;
    }
}
</style>
{% endblock %}